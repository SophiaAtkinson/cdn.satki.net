const t="https://www.steamwidgets.com";class e extends HTMLElement{storedData={};oldHeader="";connectedCallback(){var t=void 0!==this.attributes.addr?this.attributes.addr.value:null,e=void 0!==this.attributes.header?this.attributes.header.value:"",s=void 0!==this.attributes.width?this.attributes.width.value:null,a=void 0!==this.attributes.height?this.attributes.height.value:null,i=void 0!==this.attributes.bots?this.attributes.bots.value:":count bots",r=void 0!==this.attributes["secure-yes"]?this.attributes["secure-yes"].value:"secure",d=void 0!==this.attributes["secure-no"]?this.attributes["secure-no"].value:"insecure",o=void 0!==this.attributes["hosting-dedicated"]?this.attributes["hosting-dedicated"].value:"dedicated",l=void 0!==this.attributes["hosting-listen"]?this.attributes["hosting-listen"].value:"listen",n=void 0!==this.attributes.playtext?this.attributes.playtext.value:"Join",h=void 0!==this.attributes["style-border"]?this.attributes["style-border"].value:null,u=void 0!==this.attributes["style-shadow"]?parseInt(this.attributes["style-shadow"].value):1,v=void 0!==this.attributes["style-color-background"]?this.attributes["style-color-background"].value:null,c=void 0!==this.attributes["style-color-text-bright"]?this.attributes["style-color-text-bright"].value:null,g=void 0!==this.attributes["style-color-text-dark"]?this.attributes["style-color-text-dark"].value:null;null!==t&&(this.storedData={addr:t,header:e,width:s,height:a,bots:i,secure_yes:r,secure_no:d,hosting_dedicated:o,hosting_listen:l,playtext:n,styleBorder:h,styleShadow:u,styleColorBackground:v,styleColorTextBright:c,styleColorTextDark:g},this.setupWidget(t,e,s,a,i,r,d,o,l,n,h,u,v,c,g))}setupWidget(e,s,a,i,r,d,o,l,n,h,u,v,c,g,m){var y=new XMLHttpRequest,D=this;void 0!==D.custom_events&&void 0!==D.custom_events.eventOnInit&&D.dispatchEvent(D.custom_events.eventOnInit),y.onreadystatechange=function(){if(y.readyState==XMLHttpRequest.DONE){let e=JSON.parse(y.responseText);if(!document.getElementById("steamwidgets-server-styles")){let e=document.createElement("link");e.id="steamwidgets-server-styles",e.rel="stylesheet",e.type="text/css",e.href=t+"/api/resource/query?type=css&module=server&version=v1",document.getElementsByTagName("head")[0].appendChild(e)}let b="",p="";if(null!==a||null!==u||!0!==v||null!==c){let t="";null!==a&&(t="max-width: "+a+"px;");let e="";null!==u&&("max"===u?(e="border-radius: 25px;",b="border-top-left-radius: 25px; border-top-right-radius: 25px;"):"small"===u?(e="border-radius: 4px;",b="border-top-left-radius: 4px; border-top-right-radius: 4px;"):"none"===u&&(e="border-radius: unset;",b="border-top-left-radius: unset; border-top-right-radius: unset;"));let s="";v||(s="box-shadow: unset;");let i="";null!==c&&(i="background-color: "+c+";"),p='style="'+t+e+s+i+'"'}let x="";""!==s&&(x="background-image: url('"+s+"');"),r=r.replace(":count",e.data.bots);let _="",w="";e.data.secure?(_=d,w="steam-server-gameinfo-item-green"):(_=o,w="steam-server-gameinfo-item-red");let f="";f=e.data.dedicated?l:n;let k='\n                     <div class="steam-server" '+(p.length>0?p:"")+'>\n                         <div class="steam-server-image" style="'+x+" "+(""==s?"display: none;":"")+" "+(null!==i?"height: "+i+"px;":"")+(b.length>0?b:"")+'"></div>\n                     \n                         <div class="steam-server-infos">\n                            <div class="steam-server-title">\n                                <div class="steam-server-title-left">\n                                    <div class="steam-server-title-left-addr" '+(null!==g?'style="color: '+g+';"':"")+">"+e.data.addr+'</div>\n                                    <div class="steam-server-title-left-name" '+(null!==m?'style="color: '+m+';"':"")+">"+e.data.name+'</div>\n                                </div>\n            \n                                <div class="steam-server-title-right">\n                                    <div class="steam-server-title-right-count" '+(null!==m?'style="color: '+m+';"':"")+">"+e.data.players+"/"+e.data.max_players+'</div>\n                                    <div class="steam-server-title-right-bots" '+(null!==m?'style="color: '+m+';"':"")+">"+r+'</div>\n                                </div>\n                            </div>\n            \n                            <div class="steam-server-footer">\n                                <div class="steam-server-gameinfo" '+(null!==m?'style="color: '+m+';"':"")+'>\n                                    <span class="steam-server-gameinfo-item">'+e.data.product+'</span>\n                                    |\n                                    <span class="steam-server-gameinfo-item">'+e.data.map+'</span>\n                                    |\n                                    <span class="steam-server-gameinfo-item '+w+'">'+_+'</span>\n                                    |\n                                    <span class="steam-server-gameinfo-item">'+f+'</span>\n                                </div>\n            \n                                <div class="steam-server-action">\n                                    <a href="steam://connect/'+e.data.addr+'">'+h+"</a>\n                                </div>\n                            </div>\n                        </div>\n                     </div>\n                 ";D.innerHTML=k,void 0!==D.custom_events&&void 0!==D.custom_events.eventOnCompleted&&D.dispatchEvent(D.custom_events.eventOnCompleted)}},y.open("GET",t+"/api/query/server?addr="+e,!0),y.send()}updateWidget(){this.setupWidget(this.storedData.addr,this.storedData.header,this.storedData.width,this.storedData.height,this.storedData.bots,this.storedData.secure_yes,this.storedData.secure_no,this.storedData.hosting_dedicated,this.storedData.hosting_listen,this.storedData.playtext,this.storedData.styleBorder,this.storedData.styleShadow,this.storedData.styleColorBackground,this.storedData.styleColorTextBright,this.storedData.styleColorTextDark)}changeLang(t,e,s,a,i,r){this.storedData.bots=t,this.storedData.secure_yes=e,this.storedData.secure_no=s,this.storedData.hosting_dedicated=a,this.storedData.hosting_listen=i,this.storedData.playtext=r,this.setupWidget(this.storedData.addr,this.storedData.header,this.storedData.width,this.storedData.height,this.storedData.bots,this.storedData.secure_yes,this.storedData.secure_no,this.storedData.hosting_dedicated,this.storedData.hosting_listen,this.storedData.playtext,this.storedData.styleBorder,this.storedData.styleShadow,this.storedData.styleColorBackground,this.storedData.styleColorTextBright,this.storedData.styleColorTextDark)}setImageVisibility(t){t?this.storedData.header=this.oldHeader:(""!=this.storedData.header&&(this.oldHeader=this.storedData.header),this.storedData.header=""),this.setupWidget(this.storedData.addr,this.storedData.header,this.storedData.width,this.storedData.height,this.storedData.bots,this.storedData.secure_yes,this.storedData.secure_no,this.storedData.hosting_dedicated,this.storedData.hosting_listen,this.storedData.playtext,this.storedData.styleBorder,this.storedData.styleShadow,this.storedData.styleColorBackground,this.storedData.styleColorTextBright,this.storedData.styleColorTextDark)}}window.customElements.define("steam-server",e);