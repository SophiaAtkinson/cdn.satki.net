const t="https://www.steamwidgets.com";class e extends HTMLElement{HEADLINE_MAX_LEN=32;DESCRIPTION_MAX_LEN=40;storedData={};oldHeader="";connectedCallback(){var t=void 0!==this.attributes.group?this.attributes.group.value:null,e=void 0!==this.attributes.online?this.attributes.online.value:"Online",s=void 0!==this.attributes.ingame?this.attributes.ingame.value:"In-Game",a=void 0!==this.attributes.members?this.attributes.members.value:"Members",o=void 0!==this.attributes.viewtext?this.attributes.viewtext.value:"View group",i=void 0!==this.attributes["show-image"]?parseInt(this.attributes["show-image"].value):1,r=void 0!==this.attributes["style-border"]?this.attributes["style-border"].value:null,l=void 0!==this.attributes["style-shadow"]?parseInt(this.attributes["style-shadow"].value):1,n=void 0!==this.attributes["style-color-background"]?this.attributes["style-color-background"].value:null,d=void 0!==this.attributes["style-color-title"]?this.attributes["style-color-title"].value:null,u=void 0!==this.attributes["style-color-description"]?this.attributes["style-color-description"].value:null,h=void 0!==this.attributes["style-color-stats-count"]?this.attributes["style-color-stats-count"].value:null,m=void 0!==this.attributes["style-color-stats-label"]?this.attributes["style-color-stats-label"].value:null;null!==t&&(this.storedData={group:t,online:e,ingame:s,members:a,viewtext:o,showImage:i,styleBorder:r,styleShadow:l,styleColorBackground:n,styleColorTitle:d,styleColorDescription:u,styleColorStatsCount:h,styleCOlorStatsLabel:m},this.setupWidget(t,e,s,a,o,i,r,l,n,d,u,h,m))}setupWidget(e,s,a,o,i,r,l,n,d,u,h,m,v){var c=new XMLHttpRequest,g=this;void 0!==g.custom_events&&void 0!==g.custom_events.eventOnInit&&g.dispatchEvent(g.custom_events.eventOnInit),c.onreadystatechange=function(){if(c.readyState==XMLHttpRequest.DONE){let e=JSON.parse(c.responseText);if(!document.getElementById("steamwidgets-group-styles")){let e=document.createElement("link");e.id="steamwidgets-group-styles",e.rel="stylesheet",e.type="text/css",e.href=t+"/api/resource/query?type=css&module=group&version=v1",document.getElementsByTagName("head")[0].appendChild(e)}let p="",y="";null!==l&&("max"===l?(p="",y=""):"small"===l?(p="border-radius: 4px;",y="steam-group-preview-small"):"none"===l&&(p="border-radius: unset;",y="steam-group-preview-none"));let b="";n||(b+="box-shadow: unset;"),p.length>0&&(b+=p),null!==d&&(b+="background-color: "+d+";");let D=e.data.groupHeadline;D.length>=g.HEADLINE_MAX_LEN&&(D=D.substr(0,g.HEADLINE_MAX_LEN-3)+"...");let w=e.data.groupSummary;w.length>=g.DESCRIPTION_MAX_LEN&&(w=w.substr(0,g.DESCRIPTION_MAX_LEN-3)+"...");let C='\n                <div class="steam-group" '+(b.length>0?'style="'+b+'"':"")+'>\n                    <div class="steam-group-preview '+(y.length>0?y:"")+'" style="background-image: url(\''+e.data.groupAvatar+"'); "+(r?"":"display: none;")+'"></div>\n                \n                    <div class="steam-group-info" '+(r?"":'style="top: 13px; width: 100%;"')+'>\n                        <div class="steam-group-info-title" '+(null!==u?'style="color: '+u+';"':"")+">"+D+'</div>\n                \n                        <div class="steam-group-info-description" '+(null!==h?'style="color: '+h+';"':"")+">"+w+'</div>\n                \n                        <div class="steam-group-info-stats">\n                            <div class="steam-group-info-stats-item">\n                                <div class="steam-group-info-stats-item-count" '+(null!==m?'style="color: '+m+';"':"")+">"+g.readableCount(e.data.members.count)+'</div>\n                                <div class="steam-group-info-stats-item-label" '+(null!==v?'style="color: '+v+';"':"")+">"+o+'</div>\n                            </div>\n                \n                            <div class="steam-group-info-stats-item">\n                                <div class="steam-group-info-stats-item-count" '+(null!==m?'style="color: '+m+';"':"")+">"+g.readableCount(e.data.members.online)+'</div>\n                                <div class="steam-group-info-stats-item-label" '+(null!==v?'style="color: '+v+';"':"")+">"+s+'</div>\n                            </div>\n                \n                            <div class="steam-group-info-stats-item">\n                                <div class="steam-group-info-stats-item-count" '+(null!==m?'style="color: '+m+';"':"")+">"+g.readableCount(e.data.members.in_game)+'</div>\n                                <div class="steam-group-info-stats-item-label" '+(null!==v?'style="color: '+v+';"':"")+">"+a+'</div>\n                            </div>\n                        </div>\n                \n                        <div class="steam-group-info-footer">\n                            <div class="steam-group-info-footer-action">\n                                <a href="https://steamcommunity.com/groups/'+e.data.groupURL+'">'+i+"</a>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                ";g.innerHTML=C,void 0!==g.custom_events&&void 0!==g.custom_events.eventOnCompleted&&g.dispatchEvent(g.custom_events.eventOnCompleted)}},c.open("GET",t+"/api/query/group?group="+e,!0),c.send()}updateWidget(){this.setupWidget(this.storedData.group,this.storedData.online,this.storedData.ingame,this.storedData.members,this.storedData.viewtext,this.storedData.showImage,this.storedData.styleBorder,this.storedData.styleShadow,this.storedData.styleColorBackground,this.storedData.styleColorTitle,this.storedData.styleColorDescription,this.storedData.styleColorStatsCount,this.storedData.styleColorStatsLabel)}changeLang(t,e,s,a){this.storedData.online=t,this.storedData.ingame=e,this.storedData.members=s,this.storedData.viewtext=a,this.setupWidget(this.storedData.group,this.storedData.online,this.storedData.ingame,this.storedData.members,this.storedData.viewtext,this.storedData.showImage,this.storedData.styleBorder,this.storedData.styleShadow,this.storedData.styleColorBackground,this.storedData.styleColorTitle,this.storedData.styleColorDescription,this.storedData.styleColorStatsCount,this.storedData.styleColorStatsLabel)}setImageVisibility(t){this.storedData.showImage=t,this.setupWidget(this.storedData.group,this.storedData.online,this.storedData.ingame,this.storedData.members,this.storedData.viewtext,this.storedData.showImage,this.storedData.styleBorder,this.storedData.styleShadow,this.storedData.styleColorBackground,this.storedData.styleColorTitle,this.storedData.styleColorDescription,this.storedData.styleColorStatsCount,this.storedData.styleColorStatsLabel)}readableCount(t){const e=1e6,s=1e5,a=1e3;return t>=e?Math.round(t/e,1).toString()+"M":t<e&&t>=s||t<s&&t>=1e4||t<1e4&&t>=a?Math.round(t/a,1).toString()+"K":t.toString()}}window.customElements.define("steam-group",e);