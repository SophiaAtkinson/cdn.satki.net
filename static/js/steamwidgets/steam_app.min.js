const t="https://www.steamwidgets.com";class e extends HTMLElement{storedData={};connectedCallback(){var t=void 0!==this.attributes.appid?this.attributes.appid.value:null,e=void 0!==this.attributes.lang?this.attributes.lang.value:"english",s=void 0!==this.attributes.playtext?this.attributes.playtext.value:"Play on Steam",a=void 0!==this.attributes.author?this.attributes.author.value:"By :developer",i=void 0!==this.attributes.onlinecount?this.attributes.onlinecount.value:null,o=void 0!==this.attributes.rating?parseInt(this.attributes.rating.value):0,l=void 0!==this.attributes.width?this.attributes.width.value:null,r=void 0!==this.attributes.height?this.attributes.height.value:null,n=void 0!==this.attributes["style-border"]?this.attributes["style-border"].value:null,d=void 0!==this.attributes["style-shadow"]?parseInt(this.attributes["style-shadow"].value):1,h=void 0!==this.attributes["style-color-background"]?this.attributes["style-color-background"].value:null,u=void 0!==this.attributes["style-color-title"]?this.attributes["style-color-title"].value:null,p=void 0!==this.attributes["style-color-description"]?this.attributes["style-color-description"].value:null,c=void 0!==this.attributes["style-color-author"]?this.attributes["style-color-author"].value:null,v=void 0!==this.attributes["style-color-onlinecount"]?this.attributes["style-color-onlinecount"].value:null,y=void 0!==this.attributes["style-hideimage"]?parseInt(this.attributes["style-hideimage"].value):0;null!==t&&(this.storedData={appid:t,lang:e,playtext:s,author:a,onlinecount:i,rating:o,width:l,height:r,styleBorder:n,styleShadow:d,styleColorBackground:h,styleColorTitle:u,styleColorDescription:p,styleColorAuthor:c,styleColorOnlinecount:v,styleHideImage:y},this.setupWidget(t,e,s,a,i,o,l,r,n,d,h,u,p,c,v,y))}setupWidget(e,s,a,i,o,l,r,n,d,h,u,p,c,v,y,g){var D=new XMLHttpRequest,b=this;void 0!==b.custom_events&&void 0!==b.custom_events.eventOnInit&&b.dispatchEvent(b.custom_events.eventOnInit),D.onreadystatechange=function(){if(D.readyState==XMLHttpRequest.DONE){let e=JSON.parse(D.responseText);if(!1!==i.indexOf(":developer")){let t="";e.data.developers.forEach((function(s,a){t+=s,a<e.data.developers.length-1&&(t+=", ")})),i=i.replace(":developer",t)}if(!1!==i.indexOf(":publisher")){let t="";e.data.publishers.forEach((function(s,a){t+=s,a<e.data.publishers.length-1&&(t+=", ")})),i=i.replace(":publisher",t)}if(!document.getElementById("steamwidgets-app-styles")){let e=document.createElement("link");e.id="steamwidgets-app-styles",e.rel="stylesheet",e.type="text/css",e.href=t+"/api/resource/query?type=css&module=app&version=v1",document.getElementsByTagName("head")[0].appendChild(e)}let s="";null!==o&&e.data.online_count>0&&(s=o,s=s.replace(":count",b.readableCount(e.data.online_count)));let m="",f="";if(null!==r||null!==d||!0!==h||null!==u){let t="";null!==r&&(t="max-width: "+r+"px;");let e="";null!==d&&("max"===d?(e="border-radius: 25px;",m="border-top-left-radius: 25px; border-top-right-radius: 25px;"):"small"===d?(e="border-radius: 4px;",m="border-top-left-radius: 4px; border-top-right-radius: 4px;"):"none"===d&&(e="border-radius: unset;",m="border-top-left-radius: unset; border-top-right-radius: unset;"));let s="";h||(s="box-shadow: unset;");let a="";null!==u&&(a="background-color: "+u+";"),f='style="'+t+e+s+a+'"'}let C="";if(l){C="<br/>";for(let t=0;t<Math.round(e.data.rating_count/2);t++)C+="<span>&#x2B50;</span>";for(let t=Math.round(e.data.rating_count/2);t<5;t++)C+='<span class="steam-app-title-left-rating-star-grey">&#x2B50;</span>'}let x='\n                    <div class="steam-app" '+(f.length>0?f:"")+'>\n                        <div class="steam-app-image" style="background-image: url(\''+e.data.header_image+"'); "+(null!==n?"height: "+n+"px;":"")+(m.length>0?m:"")+(g?"display: none;":"")+'"></div>\n                    \n                        <div class="steam-app-infos">\n                            <div class="steam-app-title">\n                                <div class="steam-app-title-left">\n                                    <div class="steam-app-title-left-name" '+(null!==p?'style="color: '+p+';"':"")+">"+e.data.name+'</div>\n                                    <div class="steam-app-title-left-rating">'+C+'</div>\n                                </div>\n                                \n                                <div class="steam-app-title-right" '+(null!==y?'style="color: '+y+';"':"")+">"+(s.length>0?s:"")+'</div>\n                            </div>\n                            \n                            <div class="steam-app-description" '+(null!==c?'style="color: '+c+';"':"")+">\n                                "+e.data.short_description+'\n                            </div>\n                            \n                            <div class="steam-app-footer">\n                                <div class="steam-app-footer-author" '+(null!==v?'style="color: '+v+';"':"")+">\n                                    "+i+'\n                                </div>\n                                \n                                <div class="steam-app-footer-button">\n                                    <a href="https://store.steampowered.com/app/'+e.appid+'">'+a+"</a>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                ";b.innerHTML=x,void 0!==b.custom_events&&void 0!==b.custom_events.eventOnCompleted&&b.dispatchEvent(b.custom_events.eventOnCompleted)}},D.open("GET",t+"/api/query/app?appid="+e+"&lang="+s,!0),D.send()}updateWidget(){this.setupWidget(this.storedData.appid,this.storedData.lang,this.storedData.playtext,this.storedData.author,this.storedData.onlinecount,this.storedData.rating,this.storedData.width,this.storedData.height,this.storedData.styleBorder,this.storedData.styleShadow,this.storedData.styleColorBackground,this.storedData.styleColorTitle,this.storedData.styleColorDescription,this.storedData.styleColorAuthor,this.storedData.styleColorOnlinecount,this.storedData.styleHideImage)}changeLang(t,e,s,a){this.storedData.lang=t,this.storedData.playtext=e,this.storedData.author=s,this.storedData.onlinecount=a,this.setupWidget(this.storedData.appid,this.storedData.lang,this.storedData.playtext,this.storedData.author,this.storedData.onlinecount,this.storedData.rating,this.storedData.width,this.storedData.height,this.storedData.styleBorder,this.storedData.styleShadow,this.storedData.styleColorBackground,this.storedData.styleColorTitle,this.storedData.styleColorDescription,this.storedData.styleColorAuthor,this.storedData.styleColorOnlinecount,this.storedData.styleHideImage)}setImageVisibility(t){this.storedData.styleHideImage=!t,this.setupWidget(this.storedData.appid,this.storedData.lang,this.storedData.playtext,this.storedData.author,this.storedData.onlinecount,this.storedData.rating,this.storedData.width,this.storedData.height,this.storedData.styleBorder,this.storedData.styleShadow,this.storedData.styleColorBackground,this.storedData.styleColorTitle,this.storedData.styleColorDescription,this.storedData.styleColorAuthor,this.storedData.styleColorOnlinecount,this.storedData.styleHideImage)}readableCount(t){const e=1e6,s=1e5,a=1e3;return t>=e?Math.round(t/e,1).toString()+"M":t<e&&t>=s||t<s&&t>=1e4||t<1e4&&t>=a?Math.round(t/a,1).toString()+"K":t.toString()}}window.customElements.define("steam-app",e);